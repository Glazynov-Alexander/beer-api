(this["webpackJsonpbeer-api"]=this["webpackJsonpbeer-api"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(23),i=n.n(a),s=(n(32),n(2)),j=n(8),b=(n(33),n(3)),l=n(12),o=n(19),u=n.n(o),d=n(24),h=n(11),O=n(13),p=(n(37),n(1));var f,g=function(e){var t=e.count,n=e.rowsPerPage,c=e.page,a=e.beers,i=e.setQuery,b=e.getBeers,l=e.filters,o=e.rowsPerPageOptions,u=Object(r.useState)(!1),d=Object(j.a)(u,2),O=d[0],f=d[1],g=function(e,t){f(!1),i(e,t),b(Object(s.a)(Object(s.a)({},l),{},Object(h.a)({},e,t)))},v=Array.from({length:Math.floor(t/n)},(function(e,t){return t+1}));return v.map((function(e){if(e===c){var t=e-1,r=e+1;return Object(p.jsxs)("div",{className:"pagination",children:[Object(p.jsxs)("div",{className:"perPages",children:[Object(p.jsx)("div",{onClick:function(){return f(!O)},className:"nowPerPage",children:n}),Object(p.jsx)("div",{className:"listPerPages",children:O&&o.map((function(e){return Object(p.jsx)("div",{onClick:function(){return g("per_page",e)},children:e},e)}))})]}),!!t&&Object(p.jsx)("button",{style:{width:30,height:30,margin:5},onClick:function(){return g("page",t)},children:t}),Object(p.jsx)("button",{style:{width:30,height:30,margin:5},disabled:e===c,children:e}),r<=v.length&&a.length===n&&Object(p.jsx)("button",{style:{width:30,height:30,margin:5},onClick:function(){return g("page",r)},children:r})]},e)}}))},v=(n(39),function(e){var t=e.setValueFilter,n=e.filters,r=e.getBeers,c=e.fields;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"filters",children:c.map((function(e){return Object(p.jsx)("input",{placeholder:e,value:n[e]||"",style:{margin:10},type:"number",onChange:function(n){return t(e,n.target.value)}},e)}))}),Object(p.jsx)("button",{className:"submit",onClick:function(){return r(Object(s.a)(Object(s.a)({},n),{},{page:1}))},children:"Filter"})]})}),x=n(25),m=["title","titleId"];function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function N(e,t){var n=e.title,c=e.titleId,a=w(e,m);return r.createElement("svg",y({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:t,"aria-labelledby":c},a),void 0===n?r.createElement("title",{id:c},"Filter"):n?r.createElement("title",{id:c},n):null,f||(f=r.createElement("path",{d:"M16 120h480v48H16zM96 232h320v48H96zM192 344h128v48H192z"})))}var P=r.forwardRef(N),k=(n.p,n(42),[]);var _=function(e){var t=e.beers,n=e.query,c=e.setQuery,a=e.getBeers,i=e.setBeers,l=e.setQueryState,o=Object(b.e)(),f=Object(r.useState)(Object(s.a)({},n)),m=Object(j.a)(f,2),y=m[0],w=m[1],N=Object(r.useState)(""),_=Object(j.a)(N,2),C=_[0],B=_[1],S=Object(s.a)({},n);Object(r.useEffect)((function(){w(Object(s.a)(Object(s.a)({},y),{},{per_page:n.per_page||25})),B("")}),[n]);var E=Object(r.useCallback)((function(e,t){if(t)return w(Object(s.a)(Object(s.a)(Object(s.a)({},n),y),{},Object(h.a)({},e,t)));var r=Object(s.a)(Object(s.a)({},n),y);delete r[e],l(Object(s.a)({},r)),w(Object(s.a)({},r))}),[y]),I=[["ABV","ABV",{role:"style",link:""}]].concat(Object(O.a)(t.map((function(e){return[e.name,e.abv,"silver"]})))),F=function(e,n,r){var c=e.targetID.split("#");if(c.includes("bar")){console.log("parts",c);var a=c[c.indexOf("bar")+2];a=parseInt(a),o.push("/beer-api/beerId=".concat(t[a].id)),n.removeAllListeners(r)}};return Object(p.jsxs)("div",{className:"TableBeers",children:[Object(p.jsx)(x.a,{className:"schedule",chartType:"ColumnChart",data:I,chartEvents:[{eventName:"ready",callback:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chartWrapper,r=t.google,e.next=3,r.visualization.events.addListener(n.getChart(),"click",(function(e){return F(e,r.visualization.events,n.getChart())}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],options:{legend:"none",curveType:"function",enableInteractivity:!0},width:"90%",height:"400px"}),Object(p.jsx)(v,{filters:y,fields:["abv_gt","das","abv_lt","ibu_gt","ibu_lt","ebc_gt","ebc_lt"],setValueFilter:E,getBeers:a}),Object(p.jsx)(g,{rowsPerPageOptions:[5,10,25],count:500,beers:t,rowsPerPage:+S.per_page||25,getBeers:a,page:+S.page||1,setQuery:c}),Object(p.jsx)(P,{onClick:function(){var e="ascend"===C?"descend":"descend"===C?"":"ascend";B(e),"ascend"===e&&(k=Object(O.a)(t),i(Object(O.a)(t.sort((function(e,t){return e.abv>t.abv&&-1}))))),"descend"===e&&i(Object(O.a)(t.sort((function(e,t){return e.abv<t.abv&&-1})))),e||i(Object(O.a)(k))},className:C}),Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{className:"headers",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{width:250,children:"Name"}),Object(p.jsx)("th",{width:250,children:"Tagline"}),Object(p.jsx)("th",{width:80,children:"Photo"}),Object(p.jsx)("th",{width:75,children:"ABV"})]})}),Object(p.jsx)("tbody",{children:t.map((function(e){return Object(p.jsxs)("tr",{className:"body",children:[Object(p.jsx)("td",{children:Object(p.jsx)("h3",{children:e.name})}),Object(p.jsx)("td",{children:e.tagline}),Object(p.jsx)("td",{children:Object(p.jsx)("img",{onClick:function(){return o.push("beer-api/beerId=".concat(e.id))},src:e.image_url,alt:e.name})}),Object(p.jsx)("td",{children:e.abv})]},e.id+e.name)}))})]})]})},C=function(e,t,n){return function(e,t,n,r){var c={method:t,headers:new Headers({"content-type":"application/json;charset=utf-8"})};n&&Object.keys(n).length&&(c.body=JSON.stringify(n));r&&(e=e+"?"+Object(l.stringify)(r));return fetch("https://api.punkapi.com"+e,c).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong on api server!")})).then((function(e){return console.debug(e,"test"),e})).catch((function(e){console.error(e)}))}(e,"GET",t,n)};n(46);var B=function(){var e=Object(b.e)(),t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],i=e.location.pathname.replace("/beer-api/beerId=","");return Object(r.useEffect)((function(){i&&C("/v2/beers/".concat(i)).then((function(e){e&&a(e)}))}),[]),c.map((function(e){return Object(p.jsxs)("div",{className:"beer",children:[Object(p.jsx)("img",{width:160,src:e.image_url,alt:e.name}),Object(p.jsxs)("div",{className:"description",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Name:"}),Object(p.jsx)("span",{children:e.name})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"abv:"}),Object(p.jsx)("span",{children:e.abv})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"tagline:"}),Object(p.jsx)("span",{children:e.tagline})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"description:"}),Object(p.jsx)("span",{children:e.description})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"first_brewed:"}),Object(p.jsx)("span",{children:e.first_brewed})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"brewers_tips:"}),Object(p.jsx)("span",{children:e.brewers_tips})]})]})]},e.id)}))};var S=function(){var e=Object(b.e)(),t=Object(r.useState)([]),n=Object(j.a)(t,2),c=n[0],a=n[1],i=Object(r.useState)(Object(l.parse)(e.location.search.replace("?",""))),o=Object(j.a)(i,2),u=o[0],d=o[1],h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};d(Object(s.a)(Object(s.a)({},u),t)),e.replace("?"+Object(l.stringify)(Object(s.a)(Object(s.a)({},u),t))),C("/v2/beers",{},Object(s.a)(Object(s.a)({},u),t)).then((function(e){e&&a(e)}))};return Object(r.useEffect)((function(){h(u)}),[]),Object(p.jsxs)("div",{className:"Main",children:[Object(p.jsx)(b.a,{exact:!0,path:"/beer-api",children:c.length?Object(p.jsx)(_,{setBeers:a,setQueryState:d,getBeers:h,beers:c,query:u,setQuery:function(t,n){var r=Object(s.a)({},u);t&&(r[t]=n),"per_page"===t&&(r.page="1"),d(r),e.replace("?"+Object(l.stringify)(r))}}):Object(p.jsxs)("div",{children:["beers none ",Object(p.jsx)("a",{href:"/beer-api",children:"initial"})]})}),Object(p.jsx)(b.a,{path:"/beer-api/:beerId",children:Object(p.jsx)(B,{})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},I=n(14);i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(I.a,{children:Object(p.jsx)(S,{})})}),document.getElementById("root")),E()}},[[47,1,2]]]);
//# sourceMappingURL=main.c48b8a12.chunk.js.map