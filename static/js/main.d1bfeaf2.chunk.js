(this["webpackJsonpbeer-api"]=this["webpackJsonpbeer-api"]||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(23),i=n.n(a),s=(n(32),n(2)),j=n(8),b=(n(33),n(3)),l=n(15),o=n(19),d=n.n(o),u=n(24),h=n(11),O=n(12),f=(n(37),n(1));var p,g=function(e){var t=e.count,n=e.rowsPerPage,r=e.page,a=e.beers,i=e.getBeers,b=e.filters,l=e.rowsPerPageOptions,o=Object(c.useState)(!1),d=Object(j.a)(o,2),u=d[0],O=d[1],p=function(e,t){O(!1),i(Object(s.a)(Object(s.a)({},b),{},Object(h.a)({page:1},e,t)))},g=Array.from({length:Math.floor(t/n)},(function(e,t){return t+1}));return g.map((function(e){if(e===r){var t=e-1,c=e+1;return Object(f.jsxs)("div",{className:"pagination",children:[Object(f.jsxs)("div",{className:"perPages",children:[Object(f.jsx)("div",{onClick:function(){return O(!u)},className:"nowPerPage",children:n}),Object(f.jsx)("div",{className:"listPerPages",children:u&&l.map((function(e){return Object(f.jsx)("div",{onClick:function(){return p("per_page",e)},children:e},e)}))})]}),!!t&&Object(f.jsx)("button",{style:{width:30,height:30,margin:5},onClick:function(){return p("page",t)},children:t}),Object(f.jsx)("button",{style:{width:30,height:30,margin:5},disabled:e===r,children:e}),c<=g.length&&a.length===n&&Object(f.jsx)("button",{style:{width:30,height:30,margin:5},onClick:function(){return p("page",c)},children:c})]},e)}}))},v=(n(39),function(e){var t=e.setValueFilter,n=e.filters,c=e.getBeers,r=e.fields;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"filters",children:r.map((function(e){return Object(f.jsx)("input",{placeholder:e,value:n[e]||"",style:{margin:10},type:"number",onChange:function(n){return t(e,n.target.value)}},e)}))}),Object(f.jsx)("button",{className:"submit",onClick:function(){return c(Object(s.a)(Object(s.a)({},n),{},{page:1}))},children:"Filter"})]})}),x=n(25),m=["title","titleId"];function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N(e,t){var n=e.title,r=e.titleId,a=y(e,m);return c.createElement("svg",w({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},a),void 0===n?c.createElement("title",{id:r},"Filter"):n?c.createElement("title",{id:r},n):null,p||(p=c.createElement("path",{d:"M16 120h480v48H16zM96 232h320v48H96zM192 344h128v48H192z"})))}var P=c.forwardRef(N),k=(n.p,n(42),[]);var C=function(e){var t=e.beers,n=e.query,r=e.getBeers,a=e.setBeers,i=e.setQueryState,l=Object(b.e)(),o=Object(c.useState)(Object(s.a)({},n)),p=Object(j.a)(o,2),m=p[0],w=p[1],y=Object(c.useState)(""),N=Object(j.a)(y,2),C=N[0],_=N[1],B=Object(s.a)({},n);Object(c.useEffect)((function(){w(Object(s.a)(Object(s.a)({},m),{},{per_page:n.per_page||25})),_("")}),[n]);var S=Object(c.useCallback)((function(e,t){if(t)return w(Object(s.a)(Object(s.a)(Object(s.a)({},n),m),{},Object(h.a)({},e,t)));var c=Object(s.a)(Object(s.a)({},n),m);delete c[e],i(Object(s.a)({},c)),w(Object(s.a)({},c))}),[m]),E=[["ABV","ABV",{role:"style",link:""}]].concat(Object(O.a)(t.map((function(e){return[e.name,e.abv,"silver"]})))),I=function(e,n,c){var r=e.targetID.split("#");if(r.includes("bar")){var a=r[r.indexOf("bar")+2];a=parseInt(a),t[a]&&l.push("/beer-api/beerId=".concat(t[a].id)),n.removeAllListeners(c)}};return t.length?Object(f.jsxs)("div",{className:"TableBeers",children:[Object(f.jsx)(x.a,{className:"schedule",chartType:"ColumnChart",data:E,chartEvents:[{eventName:"ready",callback:function(){var e=Object(u.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.chartWrapper,c=t.google,e.next=3,c.visualization.events.addListener(n.getChart(),"click",(function(e){return I(e,c.visualization.events,n.getChart())}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}],options:{legend:"none",curveType:"function",enableInteractivity:!0},width:"90%",height:"400px"}),Object(f.jsx)(v,{filters:m,fields:["abv_gt","das","abv_lt","ibu_gt","ibu_lt","ebc_gt","ebc_lt"],setValueFilter:S,getBeers:r}),Object(f.jsx)(g,{rowsPerPageOptions:[5,10,25],count:500,beers:t,rowsPerPage:+B.per_page||25,getBeers:r,page:+B.page||1}),Object(f.jsx)(P,{onClick:function(){var e="ascend"===C?"descend":"descend"===C?"":"ascend";_(e),"ascend"===e&&(k=Object(O.a)(t),a(Object(O.a)(t.sort((function(e,t){return e.abv>t.abv&&-1}))))),"descend"===e&&a(Object(O.a)(t.sort((function(e,t){return e.abv<t.abv&&-1})))),e||a(Object(O.a)(k))},className:C}),Object(f.jsxs)("table",{children:[Object(f.jsx)("thead",{className:"headers",children:Object(f.jsxs)("tr",{children:[Object(f.jsx)("th",{width:250,children:"Name"}),Object(f.jsx)("th",{width:250,children:"Tagline"}),Object(f.jsx)("th",{width:90,children:"Photo"}),Object(f.jsx)("th",{width:75,children:"ABV"})]})}),Object(f.jsx)("tbody",{children:t.map((function(e){return Object(f.jsxs)("tr",{className:"body",children:[Object(f.jsx)("td",{children:Object(f.jsx)("h3",{children:e.name})}),Object(f.jsx)("td",{children:e.tagline}),Object(f.jsx)("td",{children:Object(f.jsx)("img",{onClick:function(){return l.push("/beer-api/beerId=".concat(e.id))},src:e.image_url,alt:e.name})}),Object(f.jsx)("td",{children:e.abv})]},e.id+e.name)}))})]})]}):Object(f.jsxs)("div",{children:["beers none ",Object(f.jsx)("a",{href:"/beer-api",children:"initial"})]})},_=function(e,t,n){return function(e,t,n,c){var r={method:t,headers:new Headers({"content-type":"application/json;charset=utf-8"})};n&&Object.keys(n).length&&(r.body=JSON.stringify(n));c&&(e=e+"?"+Object(l.stringify)(c));return fetch("https://api.punkapi.com"+e,r).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong on api server!")})).then((function(e){return console.debug(e,"test"),e})).catch((function(e){console.error(e)}))}(e,"GET",t,n)};n(46);var B=function(e){var t=e.loading,n=e.setLoading,r=Object(b.e)(),a=Object(c.useState)([]),i=Object(j.a)(a,2),s=i[0],l=i[1],o=r.location.pathname.replace("/beer-api/beerId=","");return Object(c.useEffect)((function(){o&&(n(!0),_("/v2/beers/".concat(o)).then((function(e){e&&(n(!1),l(e))})))}),[]),t?Object(f.jsx)("div",{children:"loading..."}):s.map((function(e){return Object(f.jsxs)("div",{className:"beer",children:[Object(f.jsx)("img",{width:200,src:e.image_url,alt:e.name}),Object(f.jsxs)("div",{className:"description",children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"Name:"}),Object(f.jsx)("span",{children:e.name})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"abv:"}),Object(f.jsx)("span",{children:e.abv})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"tagline:"}),Object(f.jsx)("span",{children:e.tagline})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"description:"}),Object(f.jsx)("span",{children:e.description})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"first_brewed:"}),Object(f.jsx)("span",{children:e.first_brewed})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("h3",{children:"brewers_tips:"}),Object(f.jsx)("span",{children:e.brewers_tips})]})]})]},e.id)}))};var S=function(){var e=Object(b.e)(),t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!1),o=Object(j.a)(i,2),d=o[0],u=o[1],h=Object(c.useState)(Object(l.parse)(e.location.search.replace("?",""))),O=Object(j.a)(h,2),p=O[0],g=O[1],v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(Object(s.a)(Object(s.a)({},p),t)),e.replace("?"+Object(l.stringify)(Object(s.a)(Object(s.a)({},p),t))),u(!0),_("/v2/beers",{},Object(s.a)(Object(s.a)({},p),t)).then((function(e){e&&(u(!1),a(e))}))};return Object(c.useEffect)((function(){v(p)}),[]),Object(f.jsxs)("div",{className:"Main",children:[Object(f.jsx)(b.a,{exact:!0,path:"/beer-api",children:d?Object(f.jsx)("div",{children:"loading..."}):Object(f.jsx)(C,{setBeers:a,setQueryState:g,getBeers:v,beers:r,query:p})}),Object(f.jsx)(b.a,{path:"/beer-api/:beerId",children:Object(f.jsx)(B,{loading:d,setLoading:u})})]})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},I=n(13);i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(I.a,{children:Object(f.jsx)(S,{})})}),document.getElementById("root")),E()}},[[47,1,2]]]);
//# sourceMappingURL=main.d1bfeaf2.chunk.js.map