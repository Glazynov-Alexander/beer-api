(this["webpackJsonpbeer-api"]=this["webpackJsonpbeer-api"]||[]).push([[0],{30:function(e,t,n){},31:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){},39:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),i=n(22),a=n.n(i),s=(n(30),n(2)),j=n(8),b=(n(31),n(3)),l=n(12),o=n(11),d=n(13),h=(n(34),n(1));var u,O=function(e){var t=e.count,n=e.rowsPerPage,r=e.page,i=e.beers,a=e.setQuery,b=e.getBeers,l=e.filters,d=e.rowsPerPageOptions,u=Object(c.useState)(!1),O=Object(j.a)(u,2),f=O[0],p=O[1],g=function(e,t){p(!1),a(e,t),b(Object(s.a)(Object(s.a)({},l),{},Object(o.a)({},e,t)))},x=Array.from({length:Math.floor(t/n)},(function(e,t){return t+1}));return console.log(r,n,x,t/n),x.map((function(e){if(e===r){var t=e-1,c=e+1;return console.log(t,c,i.length,n),Object(h.jsxs)("div",{className:"pagination",children:[Object(h.jsxs)("div",{className:"perPages",children:[Object(h.jsx)("div",{onClick:function(){return p(!f)},className:"nowPerPage",children:n}),Object(h.jsx)("div",{className:"listPerPages",children:f&&d.map((function(e){return Object(h.jsx)("div",{onClick:function(){return g("per_page",e)},children:e},e)}))})]}),!!t&&Object(h.jsx)("button",{style:{width:30,height:30,margin:5},onClick:function(){return g("page",t)},children:t}),Object(h.jsx)("button",{style:{width:30,height:30,margin:5},disabled:e===r,children:e}),c<=x.length&&i.length===n&&Object(h.jsx)("button",{style:{width:30,height:30,margin:5},onClick:function(){return g("page",c)},children:c})]},e)}}))},f=(n(36),function(e){var t=e.setValueFilter,n=e.filters,c=e.getBeers,r=e.fields;return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"filters",children:r.map((function(e){return Object(h.jsx)("input",{placeholder:e,value:n[e]||"",style:{margin:10},type:"number",onChange:function(n){return t(e,n.target.value)}},e)}))}),Object(h.jsx)("button",{className:"submit",onClick:function(){return c(Object(s.a)(Object(s.a)({},n),{},{page:1}))},children:"Filter"})]})}),p=n(23),g=["title","titleId"];function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function v(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},i=Object.keys(e);for(c=0;c<i.length;c++)n=i[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(c=0;c<i.length;c++)n=i[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t){var n=e.title,r=e.titleId,i=v(e,g);return c.createElement("svg",x({xmlns:"http://www.w3.org/2000/svg",className:"ionicon",viewBox:"0 0 512 512",ref:t,"aria-labelledby":r},i),void 0===n?c.createElement("title",{id:r},"Filter"):n?c.createElement("title",{id:r},n):null,u||(u=c.createElement("path",{d:"M16 120h480v48H16zM96 232h320v48H96zM192 344h128v48H192z"})))}var y=c.forwardRef(m),w=(n.p,n(39),[]);var P=function(e){var t=e.beers,n=e.query,r=e.setQuery,i=e.getBeers,a=e.setBeers,l=e.setQueryState,u=Object(b.e)(),g=Object(c.useState)(Object(s.a)({},n)),x=Object(j.a)(g,2),v=x[0],m=x[1],P=Object(c.useState)(""),N=Object(j.a)(P,2),_=N[0],B=N[1],C=Object(s.a)({},n);console.log("beers",t),Object(c.useEffect)((function(){m(Object(s.a)(Object(s.a)({},v),{},{per_page:n.per_page||25})),B("")}),[n]);var S=Object(c.useCallback)((function(e,t){if(t)return m(Object(s.a)(Object(s.a)(Object(s.a)({},n),v),{},Object(o.a)({},e,t)));var c=Object(s.a)(Object(s.a)({},n),v);delete c[e],l(Object(s.a)({},c)),m(Object(s.a)({},c))}),[v]),k=[["ABV","ABV",{role:"style"}]].concat(Object(d.a)(t.map((function(e){return[e.name,e.abv,"silver"]}))));return Object(h.jsxs)("div",{className:"TableBeers",children:[Object(h.jsx)(p.a,{className:"schedule",chartType:"ColumnChart",data:k,options:{legend:"none"},width:"80%",height:"400px"}),Object(h.jsx)(f,{filters:v,fields:["abv_gt","das","abv_lt","ibu_gt","ibu_lt","ebc_gt","ebc_lt"],setValueFilter:S,getBeers:i}),Object(h.jsx)(O,{rowsPerPageOptions:[5,10,25],count:500,beers:t,rowsPerPage:+C.per_page||25,getBeers:i,page:+C.page||1,setQuery:r}),Object(h.jsx)(y,{onClick:function(){var e="ascend"===_?"descend":"descend"===_?"":"ascend";B(e),"ascend"===e&&(w=Object(d.a)(t),a(Object(d.a)(t.sort((function(e,t){return e.abv>t.abv&&-1}))))),"descend"===e&&a(Object(d.a)(t.sort((function(e,t){return e.abv<t.abv&&-1})))),e||a(Object(d.a)(w))},className:_}),Object(h.jsxs)("table",{children:[Object(h.jsx)("thead",{className:"headers",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{width:250,children:"Name"}),Object(h.jsx)("th",{width:250,children:"Tagline"}),Object(h.jsx)("th",{width:90,children:"Photo"}),Object(h.jsx)("th",{width:150,children:"ABV"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsxs)("tr",{className:"body",children:[Object(h.jsx)("td",{children:Object(h.jsx)("h3",{children:e.name})}),Object(h.jsx)("td",{children:e.tagline}),Object(h.jsx)("td",{style:{padding:15},children:Object(h.jsx)("img",{onClick:function(){return u.push("beer-api/beerId=".concat(e.id))},width:500,height:500,src:e.image_url,alt:e.name})}),Object(h.jsx)("td",{children:e.abv})]},e.id+e.name)}))})]})]})},N=function(e,t,n){return function(e,t,n,c){var r={method:t,headers:new Headers({"content-type":"application/json;charset=utf-8"})};n&&Object.keys(n).length&&(r.body=JSON.stringify(n));c&&(e=e+"?"+Object(l.stringify)(c));return fetch("https://api.punkapi.com"+e,r).then((function(e){if(200===e.status)return e.json();throw new Error("Something went wrong on api server!")})).then((function(e){return console.debug(e,"test"),e})).catch((function(e){console.error(e)}))}(e,"GET",t,n)};n(43);var _=function(){var e=Object(b.e)(),t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],a=e.location.pathname.replace("/beer-api/beerId=","");return Object(c.useEffect)((function(){a&&N("/v2/beers/".concat(a)).then((function(e){e&&i(e)}))}),[]),r.map((function(e){return Object(h.jsxs)("div",{className:"beer",children:[Object(h.jsx)("img",{width:200,height:100,src:e.image_url,alt:e.name}),Object(h.jsxs)("div",{className:"description",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"Name:"}),Object(h.jsx)("span",{children:e.name})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"abv:"}),Object(h.jsx)("span",{children:e.abv})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"tagline:"}),Object(h.jsx)("span",{children:e.tagline})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"description:"}),Object(h.jsx)("span",{children:e.description})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"first_brewed:"}),Object(h.jsx)("span",{children:e.first_brewed})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{children:"brewers_tips:"}),Object(h.jsx)("span",{children:e.brewers_tips})]})]})]},e.id)}))};var B=function(){var e=Object(b.e)(),t=Object(c.useState)([]),n=Object(j.a)(t,2),r=n[0],i=n[1],a=Object(c.useState)(Object(l.parse)(e.location.search.replace("?",""))),o=Object(j.a)(a,2),d=o[0],u=o[1],O=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u(Object(s.a)(Object(s.a)({},d),t)),e.replace("?"+Object(l.stringify)(Object(s.a)(Object(s.a)({},d),t))),N("/v2/beers",{},Object(s.a)(Object(s.a)({},d),t)).then((function(e){e&&i(e)}))};return Object(c.useEffect)((function(){O(d)}),[]),Object(h.jsxs)("div",{className:"Main",children:[Object(h.jsx)(b.a,{exact:!0,path:"/beer-api",children:r.length?Object(h.jsx)(P,{setBeers:i,setQueryState:u,getBeers:O,beers:r,query:d,setQuery:function(t,n){var c=Object(s.a)({},d);t&&(c[t]=n),"per_page"===t&&(c.page="1"),u(c),e.replace("?"+Object(l.stringify)(c))}}):Object(h.jsxs)("div",{children:["beers none ",Object(h.jsx)("a",{href:"/beer-api",children:"initial"})]})}),Object(h.jsx)(b.a,{path:"/beer-api/:beerId",children:Object(h.jsx)(_,{})})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),i(e),a(e)}))},S=n(14);a.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(S.a,{children:Object(h.jsx)(B,{})})}),document.getElementById("root")),C()}},[[44,1,2]]]);
//# sourceMappingURL=main.ff0c7598.chunk.js.map